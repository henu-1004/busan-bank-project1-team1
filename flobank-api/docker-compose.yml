services:
  flobank-api: # 서비스 이름 (프론트엔드)
    build: .   # 현재 폴더(flobank-api)의 Dockerfile을 사용
    container_name: flobank-api-container # 컨테이너 이름
    ports:
      # application.yml의 웹 포트 8080을 외부에 8080으로 노출
      - "8080:8080"
    restart: always
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - SPRING_PROFILES_ACTIVE=prod  #운영 프로파일 활성화

    command: >
      java -jar app.jar --spring.profiles.active=${SPRING_PROFILES_ACTIVE}
    volumes:
      - flobank_uploads:/app/uploads






volumes:
  flobank_uploads:
    external: true
