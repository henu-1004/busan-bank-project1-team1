<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>외화 예금 2</title>
    <link rel="stylesheet" th:href="@{/css/deposit.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">

    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous"
    />

</head>
<body>
<div th:replace="~{_template/_header.html}"></div>

<main class="view-main">

    <div th:replace="~{deposit/_side.html}"></div>


  <div class="step1-container">
    <h2 class="step1-title">[[${product.dpstName}]]</h2>

  
    <div class="step1-steps">
      <div class="step1-step">
        <span class="num">1</span><span class="text">약관동의</span>
      </div>
      <div class="step1-step active">
        <span class="num">2</span><span class="text">정보입력</span>
      </div>
      <div class="step1-step">
        <span class="num">3</span><span class="text">입력정보확인</span>
      </div>
    </div>


<!-- ✅ 모든 입력 단계 통합 컨테이너 -->
<section class="step2-container">

  <!-- 1️⃣ 출금계좌정보입력 -->
  <div class="form-block">
    <h3 class="step2-subtitle">출금계좌정보입력</h3>

    <!-- 출금계좌선택 -->
    <div class="form-group">
      <label class="form-label">출금계좌선택</label>
      <div class="radio-group">
        <label><input type="radio" name="withdrawType" value="krw" checked> 원화출금계좌</label>
        <label><input type="radio" name="withdrawType" value="fx"> 외화출금계좌</label>
      </div>
    </div>

    <div class="divider"></div>

    <!-- ✅ 원화출금계좌 영역 -->
    <div id="krwFields">
      <div class="form-group">
        <label class="form-label">원화출금계좌번호</label>
        <select id="withdrawAccount" name="custAcctNo" class="form-select">
            <option>====== 계좌 선택 ======</option>
            <option th:each="acct : ${accounts}"
                    th:value="${acct.acctNo}"
                    th:data-balance="${acct.acctBalance}"
                    th:data-pw="${acct.acctPw}"
            >[[${acct.acctNo}]]</option>
        </select>
        <p id="balanceHint" class="form-hint"></p>
      </div>

      <div class="divider"></div>

      <div class="form-group">
        <label class="form-label">원화출금계좌비밀번호</label>
        <input type="password" name="acctPw" maxlength="4" placeholder="비밀번호 4자리" class="form-input short">
      </div>
    </div>

    <!-- ✅ 외화출금계좌 영역 -->
    <div id="fxFields" class="hidden">
      <div class="form-group">
        <label class="form-label">외화출금계좌번호</label>
        <select name="frgnAcctNo" class="form-select">
            <option>====== 계좌 선택 ======</option>
            <option th:if="${frgnAccount}" th:value="${frgnAccount.frgnAcctNo}">[[${frgnAccount.frgnAcctNo}]]</option>
        </select>
        <!-- <p id="frgnBalanceHint" class="form-hint"></p> -->
      </div>

      <div class="divider"></div>

      <div class="form-group">
        <label class="form-label">외화출금계좌비밀번호</label>
        <input type="password" name="frgnAcctPw" maxlength="4" placeholder="비밀번호 4자리" class="form-input short">
      </div>

      <div class="divider"></div>

      <div class="form-group">
        <label class="form-label">출금통화선택</label>
        <select id="withdrawFrgnAccount" name="balNo" class="form-select short">
            <option  th:each="tacct : ${frgnAccountBals}"
                     th:if="${product.dpstCurrencyList.contains(tacct.balCurrency)}"
                     th:value="${tacct.balNo}"
                     th:data-balance="${tacct.balBalance}"
                     th:data-currency="${tacct.balCurrency}">[[${tacct.balCurrency}]]</option>
        </select>
          <p id="frgnBalanceHint" class="form-hint">
      </div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- 2️⃣ 신규상품가입정보입력 -->
  <div class="form-block">
    <h3 class="step2-subtitle">신규상품가입정보입력</h3>

    <div class="form-group">
      <label class="form-label">신규통화종류</label>
      <select id="curSelect" class="form-select">
        <option th:each="cur : ${product.dpstCurrencyDtoList}"
            th:value="${cur.curCode}"
                th:data-curCode="${cur.curCode}"
                th:data-curName="${cur.curName}"
                th:data-minAmount="${limitMinMap[cur.curCode]}"
                th:data-maxAmount="${limitMaxMap[cur.curCode]}"
        >
        [[${cur.curCode}]] ([[${cur.curName}]])</option>
      </select>
    </div>

    <div class="divider"></div>

    <div class="form-group">
      <label class="form-label">신규금액 
        <i class="fa-regular fa-circle-question" title="입금할 신규 금액을 입력하세요."></i>
      </label>
      <div id="lmtAmtInput" class="amount-input">
        <input type="text" placeholder="" class="form-input short">

          <button style="background-color: #1f2d3d; color: white; width: 140px; font-weight: bold; display: block" class="form-input tiny">예상금액확인</button>

      </div>
        <br>
        <table class="prod-amt-container">
            <tr>
                <td class="prod-amt-left">
                    송금보내실때환율
                </td>
                <td class="prod-amt-right">
                    1482 원
                </td>
            </tr>
            <tr>
                <td class="prod-amt-left">
                    우대적용환율
                </td>
                <td class="prod-amt-right">
                    1482 원
                </td>
            </tr>
            <tr>
                <td class="prod-amt-left">
                    우대율
                </td>
                <td class="prod-amt-right">
                    70%
                </td>
            </tr>
            <tr>
                <td class="prod-amt-left">
                    우대받는금액
                </td>
                <td class="prod-amt-right">
                    62 원
                </td>
            </tr>
            <tr>
                <td class="prod-amt-left">
                    예상원화금액
                </td>
                <td class="prod-amt-right" style="color: #ef0909; font-weight: bold">
                    1482 원
                </td>
            </tr>
            <tr>
                <td class="prod-amt-left" colspan="2" style="color: gray">
                    상기 예상금액은 실제 가입 시점의 환율 변동에 따라 달라질 수 있습니다.(수수료 미포함)
                </td>
            </tr>
        </table>
    </div>

    <div class="divider"></div>

    <div class="form-group">
      <label class="form-label">가입월수</label>
      <div class="term-select">
        <select class="form-select short">
          <option>1</option>
          <option>3</option>
          <option>6</option>
          <option>12</option>
        </select>
        <span>월</span>
      </div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- 3️⃣ 만기자동연장신청 -->
  <div class="form-block">
    <h3 class="step2-subtitle">만기자동연장신청</h3>

    <div class="form-group">

      <div class="radio-group">
        <label><input type="radio" name="autoRenew" value="apply"> 신청(월단위)</label>
        <label><input type="radio" name="autoRenew" value="no" checked> 미신청</label>
      </div>
      <p class="form-hint">* 만기자동연장은 해지 시까지 유효합니다.</p>
    </div>

    <div id="autoRenewFields" class="hidden">
      <div class="form-group">
        <label class="form-label">만기연장주기월수</label>
        <select class="form-select short">
          <option>1</option>
          <option>3</option>
          <option>6</option>
          <option>12</option>
        </select>
        <span>월</span>
      </div>

    </div>
  </div>


<!--  자동해지신청 여부 -->
<div class="form-block">
  <h3 class="step2-subtitle">자동해지신청 여부</h3>

  <div class="form-group">
    <div class="radio-group">
      <label><input type="radio" name="autoClose" value="yes"> 신청</label>
      <label><input type="radio" name="autoClose" value="no" checked> 미신청</label>
    </div>
    <p class="form-hint">
      * 자동해지 신청 시, 예금 만기일에 원금 및 이자가 상품 금리에 따라 자동으로 계산되어<br>
      &nbsp;&nbsp;고객님의 출금계좌로 입금됩니다.
    </p>
  </div>
</div>






  <div class="divider"></div>

  <!-- 4️⃣ 정기예금 비밀번호 및 상품서류 수령방법 -->
  <div class="form-block">
    <h3 class="step2-subtitle">정기예금 비밀번호 및 상품서류 수령방법</h3>

    <div class="form-group">
      <label class="form-label">정기예금비밀번호</label>
      <input type="password" maxlength="4" placeholder="비밀번호 4자리" class="form-input short">
    </div>

    <div class="divider"></div>

    <div class="form-group">
      <label class="form-label">비밀번호 확인</label>
      <input type="password" maxlength="4" placeholder="입력된 비밀번호 확인" class="form-input short">
    </div>

    <div class="divider"></div>

    <div class="form-group">
      <label class="form-label">예금상품 계약서, 약관(특약), 상품설명서 제공</label>
      <p class="form-hint">고객님이 선택하시는 이메일주소 또는 휴대폰번호로 상품설명서를 발송해드립니다.</p>

      <div class="radio-group">
        <label><input type="radio" name="receiveMethod" value="email" checked> 이메일주소로 받기</label>
        <label><input type="radio" name="receiveMethod" value="sms"> 알림톡(문자)</label>
      </div>

      <div id="emailFields">
        <p class="form-hint">회원가입 시 등록된 이메일 주소로 예금상품 계약서 및 상품설명서가 전송됩니다.</p>
      </div>

      <p id="smsHint" class="form-hint hidden">
        회원가입 시 등록된 휴대폰 번호로 알림톡이 발송됩니다.
      </p>
    </div>
  </div>

</section>

  <div class="step1-actions">
    <a href="/deposit/deposit_step1.html" class="step1-btn-prev">이전</a>
    <a href="/deposit/deposit_step3.html" class="step1-btn-next">다음</a>
  </div>



    </section>
  </div>
</main>

<script th:src ="@{/js/deposit.js}"></script>
<div th:replace="~{_template/_footer.html}"></div>


</body>
</html>

