<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko"
      th:replace="~{admin/admin_template :: admin_template('μ•½κ΄€κ΄€λ¦¬','μ•½κ΄€ μ„¤μ •',~{::content})}">

<th:block th:fragment="content">

    <!-- ===================================================== -->
    <!-- 1) μ•½κ΄€ λ“±λ΅ -->
    <!-- ===================================================== -->
    <section class="terms-section">
        <h2 class="product-title">μ•½κ΄€ λ“±λ΅</h2>

        <form class="terms-form"
              method="post"
              th:action="@{/admin/termsdb/register}">

            <!-- μΉ΄ν…κ³ λ¦¬ μ„ νƒ -->
            <div class="form-section">
                <h3>μ•½κ΄€ μΉ΄ν…κ³ λ¦¬</h3>
                <div class="form-group">
                    <label>μΉ΄ν…κ³ λ¦¬ μ„ νƒ</label>
                    <select name="cate" class="terms-select" required>
                        <option value="">μ„ νƒν•μ„Έμ”</option>
                        <option value="1">νμ›κ°€μ…</option>
                        <option value="2">μ›ν™”μ†΅κΈ</option>
                        <option value="3">μ™Έν™”μ†΅κΈ</option>
                        <option value="4">μ™Έν™μκΈ</option>
                        <option value="5">μ›ν™”ν†µμ¥κ°μ„¤</option>
                        <option value="6">μ™Έν™”ν†µμ¥κ°μ„¤</option>
                    </select>
                </div>
            </div>

            <!-- μ λ© -->
            <div class="form-section">
                <h3>μ•½κ΄€ μ λ©</h3>
                <div class="form-group">
                    <input type="text" class="terms-title-input"
                           name="title"
                           placeholder="μ•½κ΄€ μ λ©μ„ μ…λ ¥ν•μ„Έμ”"
                           required />
                </div>
            </div>

            <!-- λ‚΄μ© -->
            <div class="form-section">
                <h3>μ•½κ΄€ λ‚΄μ©</h3>
                <div class="form-group">
                <textarea class="terms-textarea" rows="8"
                          name="content"
                          placeholder="μ•½κ΄€ λ‚΄μ©μ„ μ…λ ¥ν•μ„Έμ”" required></textarea>
                </div>
            </div>

            <!-- νμΌ μ²¨λ¶€ (DB λ²„μ „ κ΄€λ¦¬λΌ νμΌμ€ μ„ νƒ) -->
            <div class="terms-modal-group">
                <h3>μ•½κ΄€ νμΌ μ²¨λ¶€ (μ„ νƒ)</h3>
                <input type="file"
                       id="modalFile"
                       class="terms-input"
                       accept=".pdf,.doc,.docx">
            </div>

            <!-- μ „μ†΅ -->
            <div class="form-submit">
                <button type="submit" class="btn-submit terms-submit">λ“±λ΅ν•κΈ°</button>
            </div>

        </form>
    </section>


            <!-- ===================================================== -->
            <!-- 2) μ•½κ΄€ ν„ν™© -->
            <!-- ===================================================== -->
            <section class="terms-section">
                <h2 class="product-title">μ•½κ΄€ ν„ν™©</h2>

                <!-- κ²€μƒ‰ μμ—­ -->
                <div class="terms-search-area">

                    <!-- κ²€μƒ‰ μ΅°κ±΄ μ„ νƒ -->
                    <select class="terms-search-type">
                        <option value="category">μ•½κ΄€ μΉ΄ν…κ³ λ¦¬</option>
                        <option value="title">μ•½κ΄€ μ λ©</option>
                        <option value="content">μ•½κ΄€ λ‚΄μ©</option>
                    </select>

                    <!-- κ²€μƒ‰μ–΄ μ…λ ¥ -->
                    <input type="text"
                        class="terms-search-input"
                        placeholder="κ²€μƒ‰μ–΄λ¥Ό μ…λ ¥ν•μ„Έμ”">

                    <!-- κ²€μƒ‰ λ²„νΌ -->
                    <button class="terms-search-btn">
                        <i class="fa-solid fa-search"></i>
                    </button>
                </div>


                <!-- ν…μ΄λΈ” -->
                <!-- ν…μ΄λΈ” -->
                <div class="product-table-wrap">
                    <table class="product-table terms-table">
                        <thead>
                        <tr>
                            <th>μ•½κ΄€ μΉ΄ν…κ³ λ¦¬</th>   <!-- row.children[0] -->
                            <th>μ•½κ΄€ μ λ©</th>       <!-- row.children[1] -->
                            <th>λ²„μ „</th>            <!-- row.children[2] -->
                            <th>λ“±λ΅μΌ</th>          <!-- row.children[3] -->
                            <th>μμ •μΌ</th>          <!-- row.children[4] -->
                            <th>κ΄€λ¦¬</th>            <!-- row.children[5] -->
                        </tr>
                        </thead>

                        <tbody>
                        <tr th:each="t : ${termsList}">
                            <td th:text="${t.termCate} == 1 ? 'νμ›κ°€μ…' :
                         ${t.termCate} == 2 ? 'μ›ν™”μ†΅κΈ' :
                         ${t.termCate} == 3 ? 'μ™Έν™”μ†΅κΈ' : 'μ™Έν™μκΈ'"></td>

                            <td th:text="${t.termTitle}"></td>

                            <td th:text="'v' + ${t.latestVersion}"></td>

                            <td th:text="${t.termRegDy}"></td>
                            <td th:text="${t.latestRegDy}"></td>

                            <td class="terms-actions">
                                <button class="terms-edit-btn">μμ •</button>

                                <button class="terms-delete-btn"
                                        th:attr="data-cate=${t.termCate}, data-order=${t.termOrder}">
                                    μ‚­μ 
                                </button>
                            </td>
                        </tr>
                        </tbody>

                    </table>
                </div>

            </section>

        </div>


<!-- ==========================
     π”Ή μ•½κ΄€ μμ • λ¨λ‹¬ 
========================== -->
<div class="terms-modal" id="termsModal">
    <div class="terms-modal-content">

        <span class="terms-modal-close">&times;</span>

        <h2 class="terms-modal-title">μ•½κ΄€ μμ •</h2>

        <div class="terms-modal-body">

            <!-- μΉ΄ν…κ³ λ¦¬ -->
            <div class="terms-modal-group">
                <label>μ•½κ΄€ μΉ΄ν…κ³ λ¦¬</label>
                <input type="text" id="modalCategory" class="terms-input" disabled>
            </div>

            <!-- μ λ© -->
            <div class="terms-modal-group">
                <label>μ•½κ΄€ μ λ©</label>
                <input type="text" id="modalTitle" class="terms-input" disabled>
            </div>

            <!-- λ²„μ „ / λ“±λ΅μΌ / λ“±λ΅μ -->
            <div class="terms-modal-row">
                <div class="terms-modal-group">
                    <label>λ²„μ „</label>
                    <input type="text" id="modalVersion" class="terms-input" disabled>
                </div>

                <div class="terms-modal-group">
                    <label>λ“±λ΅μΌ</label>
                    <input type="text" id="modalRegDate" class="terms-input" disabled>
                </div>

                <div class="terms-modal-group">
                    <label>λ“±λ΅μ</label>
                    <input type="text" id="modalWriter" class="terms-input" disabled>
                </div>
            </div>

            <!-- λ‚΄μ© μμ • -->
            <div class="terms-modal-group">
                <label>μ•½κ΄€ λ‚΄μ©</label>
                <textarea id="modalContent" class="terms-textarea" rows="8"></textarea>
            </div>




        </div>

        <div class="terms-modal-footer">
            <button class="terms-modal-cancel">μ·¨μ†</button>
            <button class="terms-modal-save">μ €μ¥ν•κΈ°</button>
        </div>

    </div>
</div>


</div>





    <script src="/static/js/terms.js"></script>
</th:block>
</html>

<script th:if="${msg != null}">
    alert([[${msg}]]);
</script>


