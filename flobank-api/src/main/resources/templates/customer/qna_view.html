<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>μ§λ¬Έκ³Όλ‹µλ³€</title>
    <link rel="stylesheet" th:href="@{/css/customer.css}">
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/footer.css}">

    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous"
    />

</head>
<body>
<div th:replace="~{_template/_header.html}"></div>
<main class="customer-container">

    <div th:replace="~{customer/_side.html}"></div>

  <!-- π”Ή λ³Έλ¬Έ -->
<section class="customer-content">
  <h2>μ§λ¬Έκ³Ό λ‹µλ³€(Q&A)</h2>

  <div class="qna-view" th:if="${qna}">
    <!-- π”Ή μ λ©/μ •λ³΄ -->
    <div class="view-header">
      <h3 th:text="${qna.qnaTitle}">μ§λ¬Έ μ λ©</h3>
      <p class="meta">
        μ‘μ„±μ <strong th:text="${qna.qnaCustName != null ? qna.qnaCustName : qna.qnaCustCode}">μ‘μ„±μ</strong>
        | λ“±λ΅μΌ <span th:text="${qna.qnaDt != null ? #temporals.format(qna.qnaDt, 'yyyy-MM-dd HH:mm') : ''}">0000-00-00</span>
        | μ΅°νμ <span th:text="${qna.qnaViewCnt != null ? qna.qnaViewCnt : 0}">0</span>
      </p>
    </div>

    <!-- π”Ή λ‚΄μ© -->
    <div class="view-body">
      <p th:if="${qna.qnaContent}" th:utext="${#strings.replace(#strings.escapeXml(qna.qnaContent), '\n', '<br/>')}">
        λ‚΄μ©
      </p>
      <p th:if="${!qna.qnaContent}" class="empty">λ“±λ΅λ λ‚΄μ©μ΄ μ—†μµλ‹λ‹¤.</p>
    </div>

    <!-- π”Ή λ‹µλ³€ (μ„ νƒ) -->
    <div class="view-answer">
      <h4><i class="fa-solid fa-comment-dots"></i> λ‹µλ³€</h4>
      <div class="answer-box" th:if="${qna.qnaReply != null}">
        <p th:utext="${#strings.replace(#strings.escapeXml(qna.qnaReply), '\n', '<br/>')}">λ‹µλ³€ λ‚΄μ©</p>
      </div>
      <div class="answer-box" th:if="${qna.qnaReply == null}">
        <p>λ‹µλ³€ μ¤€λΉ„ μ¤‘μ…λ‹λ‹¤. λΉ λ¥΄κ² ν™•μΈν•μ—¬ μ•λ‚΄λ“λ¦¬κ² μµλ‹λ‹¤.</p>
      </div>
    </div>

    <!-- π”Ή λ²„νΌ -->
    <div class="view-footer">
      <a th:if="${isOwner}" th:href="@{/customer/qna_edit/{no}(no=${qna.qnaNo})}" class="btn-submit">
        <i class="fa-solid fa-pen-to-square"></i> μμ •
      </a>
      <form th:if="${isOwner}" th:action="@{/customer/qna_delete/{no}(no=${qna.qnaNo})}" method="post" style="display:inline;">
        <button type="submit" class="btn-delete" onclick="return confirm('μ •λ§λ΅ μ‚­μ ν•μ‹κ² μµλ‹κΉ?');">
          <i class="fa-solid fa-trash"></i> μ‚­μ 
        </button>
      </form>
      <a th:href="@{/customer/qna_list}" class="btn-cancel">
        <i class="fa-solid fa-list"></i> λ©λ΅
      </a>
    </div>
  </div>
</section>




</main>

<div th:replace="~{_template/_footer.html}"></div>
</body>
</html>
