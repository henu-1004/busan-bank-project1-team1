<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ì•½ê´€ í…ŒìŠ¤íŠ¸ í†µí•© í˜ì´ì§€</title>

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: #f5f6fa;
            padding: 40px;
            margin: 0;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .desc {
            color: #666;
            margin-bottom: 25px;
        }

        .table-wrap {
            background: #fff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.07);
            margin-bottom: 35px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th {
            background: #4A6FA5;
            color: #fff;
            padding: 12px;
            font-size: 14px;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            text-align: center;
            font-size: 14px;
        }

        tr:hover {
            background: #eef4ff;
            cursor: pointer;
        }

        /* ìƒì„¸ ë°•ìŠ¤ */
        .detail-section {
            background: #fff;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.07);
            display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
        }

        .detail-title {
            font-size: 22px;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .info-box {
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
            margin-bottom: 25px;
        }

        .info-item {
            margin-bottom: 8px;
            font-size: 15px;
        }

        /* ë²„ì „ í…Œì´ë¸” */
        .version-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 25px;
        }

        .version-table th {
            background: #6A8DC4;
            color: #fff;
            padding: 10px;
        }

        .version-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-align: center;
        }

        /* ì•½ê´€ ë³¸ë¬¸ */
        .content-box {
            background: #fafafa;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
            white-space: pre-wrap;
            font-size: 15px;
            line-height: 1.6;
        }

    </style>

    <script>
        // JSë¡œ ìƒì„¸ ì •ë³´ í‘œì‹œ
        function showDetail(cate, order) {
            location.href = `/flobank/test/terms?cate=${cate}&order=${order}`;
        }
    </script>

</head>
<body>

<h1>ğŸ“„ ì•½ê´€ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ (ALL-IN-ONE)</h1>
<p class="desc">í•œ í˜ì´ì§€ì—ì„œ ì•½ê´€ ëª©ë¡, ìƒì„¸ ë‚´ìš©, ë²„ì „ ì´ë ¥ì„ ëª¨ë‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<!-- ===================== -->
<!-- â–¶â–¶ ì•½ê´€ ëª©ë¡ í…Œì´ë¸”  -->
<!-- ===================== -->
<div class="table-wrap">
    <table>
        <thead>
        <tr>
            <th>ì¹´í…Œê³ ë¦¬</th>
            <th>ìˆœë²ˆ</th>
            <th>ì œëª©</th>
            <th>ìµœì´ˆ ë“±ë¡ì¼</th>
            <th>ìµœì‹  ë²„ì „</th>
            <th>ìµœì‹  ìˆ˜ì •ì¼</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="t : ${termsList}"
            th:onclick="|showDetail(${t.termCate},${t.termOrder})|">
            <td th:text="${t.termCate}"></td>
            <td th:text="${t.termOrder}"></td>
            <td th:text="${t.termTitle}"></td>
            <td th:text="${t.termRegDy}"></td>
            <td th:text="'v' + ${t.latestVersion}"></td>
            <td th:text="${t.latestRegDy}"></td>
        </tr>
        </tbody>
    </table>
</div>

<!-- ========================== -->
<!-- â–¶â–¶ ìƒì„¸ ë³´ê¸° ì˜ì—­ (ì„ íƒ ì‹œ í‘œì‹œ) -->
<!-- ========================== -->
<div class="detail-section" th:if="${master != null}">

    <h2 class="detail-title">ğŸ“˜ ì•½ê´€ ìƒì„¸ ë³´ê¸°</h2>

    <!-- ê¸°ë³¸ ì •ë³´ -->
    <div class="info-box">
        <div class="info-item"><b>ì¹´í…Œê³ ë¦¬:</b> <span th:text="${master.termCate}"></span></div>
        <div class="info-item"><b>ìˆœë²ˆ:</b> <span th:text="${master.termOrder}"></span></div>
        <div class="info-item"><b>ì œëª©:</b> <span th:text="${master.termTitle}"></span></div>
        <div class="info-item"><b>ìµœì´ˆ ë“±ë¡ì¼:</b> <span th:text="${master.termRegDy}"></span></div>
    </div>

    <!-- ë²„ì „ ëª©ë¡ -->
    <h3>ğŸ“Œ ë²„ì „ ì´ë ¥</h3>
    <table class="version-table">
        <thead>
        <tr>
            <th>ë²„ì „</th>
            <th>ë“±ë¡ì¼</th>
            <th>ë©”ëª¨</th>
            <th>ì‘ì„±ì</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="v : ${versions}">
            <td th:text="'v' + ${v.thistVersion}"></td>
            <td th:text="${v.thistRegDy}"></td>
            <td th:text="${v.thistVerMemo}"></td>
            <td th:text="${v.thistAdminId}"></td>
        </tr>
        </tbody>
    </table>

    <!-- ìµœì‹  ë‚´ìš© -->
    <h3>ğŸ“˜ ìµœì‹  ì•½ê´€ ë‚´ìš©</h3>
    <div class="content-box" th:text="${latestHist.thistContent}"></div>

</div>

</body>
</html>
